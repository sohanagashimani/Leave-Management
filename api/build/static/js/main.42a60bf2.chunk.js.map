{"version":3,"sources":["context/LeaveContext.js","context/LeaveState.js","pages/admin/Create.jsx","pages/login/jgi.png","pages/login/Login.jsx","pages/principal/Principal.jsx","components/LeaveRequest.jsx","pages/staff/Staff.jsx","pages/admin/Hodrequests.jsx","pages/staff/CreateLeave.jsx","pages/profile/user.png","pages/profile/UserProfile.jsx","components/NavBar.jsx","pages/View Staff/ViewStaff.jsx","App.js","index.js"],"names":["LeaveContext","createContext","LeaveState","props","useState","userArr","setuserArr","recievedLeaveArr","setRecievedLeaveArr","requestedLeavesArr","setRequestedLeavesArr","requestesForHodArr","setRequestesForHodArr","requestsForAdminArr","setRequestsForAdminArr","allLeavesArr","setallLeavesArr","getusers","a","axios","get","users","data","console","log","postLeaveDetails","leave","post","json","staffStatus","leaveId","status","role","leaveCount","staffName","put","deleteUser","id","delete","deleteLeave","recievedRequests","staffname","recievedLeave","myRequestedLeaves","userId","requestedLeaves","requestesForHod","dep","reqsForHod","requestsForAdmin","reqsForPrincipal","login","userDetails","headers","loggedUser","localStorage","setItem","JSON","stringify","getAllLeaves","res","Provider","value","children","Create","userChange","setuserChange","userChange2","setuserChange2","isDisabled","setisDisabled","user","setUser","formErrors","setFormErrors","filteredArr","setFilteredArr","userContext","useContext","navigate","useNavigate","localUserDetails","parse","getItem","userDets","useEffect","validate","values","errors","staffId","designation","email","test","password","joiningDate","phnumber","type","department","response","toast","error","callUserApi","handleClick","e","preventDefault","success","clearFields","msg","forEach","element","Array","from","target","deleteUserFrontend","_id","deleteResponse","autoClose","handleChange","name","className","Form","onSubmit","Group","as","Row","controlId","Label","column","sm","Col","Control","onChange","placeholder","FloatingLabel","label","Select","disabled","Button","variant","newArr","filter","Table","striped","bordered","hover","map","earnedLeaves","regularStaffLeaves","probationStaffLeaves","style","display","justifyContent","cursor","onClick","Login","removeItem","reloadCount","sessionStorage","String","window","location","reload","handleOnChange","handleOnSubmit","src","logo","alt","htmlFor","Principal","border","padding","LeaveRequest","modalDetails","setModalDetails","leaveReqSubStaffDetails","setLeaveReqSubStaffDetails","detailedLeaveReq","setDetailedLeaveReq","count","populateModal","modalDeets","todaysDate","Date","updatedArr","startDateObj","dateStart","endDateObj","dateEnd","getDate","push","reverse","leaveReq","subject","toLocaleDateString","byStaff","subStaffArr","populateSubStaffDetailsModal","tabIndex","item","byHod","byAdmin","populateDetailedView","textAlign","body","toDateString","noOfDays","some","info","danger","width","height","margin","Staff","Hodrequests","CreateLeave","totalLeaveDays","setTotalLeaveDays","dateEndState","setDateEndState","dateStartState","setDateStartState","isEndDateDisabled","setIsEndDateDisabled","isSubmitDisabled","setisSubmitDisabled","selected","setSelected","multipleSubStaff","leaveData","setLeaveData","start","finish","totalDays","sendLeaveDetails","subStaff","changeInputHandler","options","rows","min","hasSelectAll","UserProfile","marginTop","Card","Img","Body","Title","NavBar","passwordDetails","setPasswordDetails","useRef","passwordAgain","oldPassword","changeHandler","changePasswordSubmit","current","warning","Navbar","bg","expand","paddingRight","Brand","NavLink","to","Toggle","Collapse","Nav","Link","clear","ref","ViewStaff","App","position","pauseOnHover","hideProgressBar","newestOnTop","transition","Slide","closeOnClick","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.42a60bf2.chunk.js","sourcesContent":["import { createContext } from \"react\";\nconst LeaveContext = createContext();\nexport default LeaveContext;","import axios from \"axios\";\n\nimport { useState } from \"react\";\nimport LeaveContext from \"./LeaveContext\";\n\nfunction LeaveState(props) {\n  const [userArr, setuserArr] = useState([]);\n  const [recievedLeaveArr, setRecievedLeaveArr] = useState([]);\n  const [requestedLeavesArr, setRequestedLeavesArr] = useState([]);\n  const [requestesForHodArr, setRequestesForHodArr] = useState([]);\n  const [requestsForAdminArr, setRequestsForAdminArr] = useState([]);\n  const [allLeavesArr, setallLeavesArr] = useState([]);\n\n  const getusers = async () => {\n    try {\n      const users = await axios.get(\n        \"http://localhost:4000/api/staff/fetchusers\"\n      );\n      // console.log(users);\n      setuserArr(users.data);\n      return users.data;\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const postLeaveDetails = async (leave) => {\n    try {\n      const json = await axios.post(\"http://localhost:4000/api/leave/\", leave);\n\n      return json.data;\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const staffStatus = async (leaveId, status, role, leaveCount, staffName) => {\n    try {\n      const json = await axios.put(\n        `http://localhost:4000/api/leave/${leaveId}/${status}/${role}/${leaveCount}/${staffName}`\n      );\n      return json.data;\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const deleteUser = async (id) => {\n    try {\n      const json = await axios.delete(`http://localhost:4000/api/staff/${id}`);\n\n      return json.data;\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const deleteLeave = async (id) => {\n    try {\n      const json = await axios.delete(`http://localhost:4000/api/leave/${id}`);\n      return json.data;\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const recievedRequests = async (staffname) => {\n    try {\n      const recievedLeave = await axios.get(\n        `http://localhost:4000/api/leave/staff/${staffname}`\n      );\n      setRecievedLeaveArr(recievedLeave.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const myRequestedLeaves = async (userId) => {\n    try {\n      const requestedLeaves = await axios.get(\n        `http://localhost:4000/api/leave/${userId}`\n      );\n      // console.log(requestedLeaves,\"saddsd\");\n      setRequestedLeavesArr(requestedLeaves.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const requestesForHod = async (dep) => {\n    try {\n      const reqsForHod = await axios.get(\n        `http://localhost:4000/api/leave/hod/${dep}`\n      );\n      setRequestesForHodArr(reqsForHod.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const requestsForAdmin = async () => {\n    try {\n      const reqsForPrincipal = await axios.get(\n        `http://localhost:4000/api/leave/`\n      );\n      setRequestsForAdminArr(reqsForPrincipal.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const login = async (userDetails) => {\n    try {\n      const loggedUser = await axios.post(\n        \"http://localhost:4000/api/auth/login\",\n        userDetails,\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      localStorage.setItem(\"storedUser\", JSON.stringify(loggedUser.data));\n      return loggedUser.data;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  const getAllLeaves = async () => {\n    try {\n      const res = await axios.get(\n        `http://localhost:4000/api/leave/principal/allLeaves`\n      );\n      setallLeavesArr(res.data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <LeaveContext.Provider\n      value={{\n        getusers,\n        userArr,\n        deleteUser,\n        postLeaveDetails,\n        recievedRequests,\n        recievedLeaveArr,\n        myRequestedLeaves,\n        requestedLeavesArr,\n        staffStatus,\n        requestesForHod,\n        requestesForHodArr,\n        requestsForAdmin,\n        requestsForAdminArr,\n        login,\n        deleteLeave,\n        getAllLeaves,\n        allLeavesArr,\n        setuserArr,\n      }}\n    >\n      {props.children}\n    </LeaveContext.Provider>\n  );\n}\n\nexport default LeaveState;\n","import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Button, Form, Row, Col, FloatingLabel, Table } from \"react-bootstrap\";\nimport { useContext } from \"react\";\nimport LeaveContext from \"../../context/LeaveContext\";\nimport DeleteOutlineTwoToneIcon from \"@mui/icons-material/DeleteOutlineTwoTone\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\nfunction Create() {\n  const [userChange, setuserChange] = useState(false);\n  const [userChange2, setuserChange2] = useState(false);\n  const [isDisabled, setisDisabled] = useState(true);\n  const [user, setUser] = useState({});\n  const [formErrors, setFormErrors] = useState({});\n  const [filteredArr, setFilteredArr] = useState([]);\n  const userContext = useContext(LeaveContext);\n  const { getusers, userArr, deleteUser } = userContext;\n\n  const navigate = useNavigate();\n  const localUserDetails = JSON.parse(localStorage.getItem(\"storedUser\"));\n  const userDets = localUserDetails?.user;\n  useEffect(() => {\n    if (userDets?.role !== \"Admin\" || localUserDetails === null) {\n      navigate(\"/login\");\n    }\n    // eslint-disable-next-line\n  }, [userChange]);\n  const validate = (values) => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    const errors = {};\n    if (!values.staffId) {\n      errors.staffId = \"Staff Id is required \";\n    }\n    if (!values.designation) {\n      errors.designation = \"Designation is required \";\n    }\n    if (!values.staffName) {\n      errors.staffName = \"Staff name  is required \";\n    }\n    if (!values.email) {\n      errors.email = \"Email id  is required \";\n    } else if (!emailRegex.test(values.email)) {\n      errors.email = \"Enter a valid email address\";\n    }\n    if (!values.password) {\n      errors.password = \"Password  is required \";\n    }\n    if (!values.joiningDate) {\n      errors.joiningDate = \"Joining date  is required \";\n    }\n    if (!values.phnumber) {\n      errors.phnumber = \"Phone number  is required \";\n    }\n    if (!values.role) {\n      errors.role = \"Role is required \";\n    }\n    if (!values.type) {\n      errors.type = \"Type  is required \";\n    }\n    if (values.role !== \"Principal\") {\n      if (!values.department) {\n        errors.department = \"department  is required \";\n      }\n    }\n    return errors;\n  };\n  useEffect(() => {\n    async function callUserApi() {\n      if (userDets?.role === \"Admin\") {\n        const response = await getusers();\n        // console.log(response);\n        if (response) {\n          setFilteredArr(response);\n        } else {\n          toast.error(\"Internal Server Error\");\n        }\n      }\n    }\n    callUserApi();\n    // eslint-disable-next-line\n  }, [userChange2]);\n  const handleClick = async (e) => {\n    e.preventDefault();\n    setFormErrors(validate(user));\n    if (\n      !(user.staffId &&\n      user.staffName &&\n      user.email &&\n      user.joiningDate &&\n      user.password &&\n      user.phnumber &&\n      user.role !== \"Principal\"\n        ? user.type && user.department\n        : user.type)\n    )\n      return;\n\n    try {\n      const json = await axios.post(\n        \"http://localhost:4000/api/auth/register\",\n        user\n      );\n\n      if (json.data.success) {\n        toast.success(\"User successfully created\");\n        clearFields(e);\n        setUser({});\n      } else if (json.data.success === false) {\n        toast.error(json.data.msg);\n      } else {\n        json.data.forEach((element) => {\n          toast.error(element.msg);\n        });\n      }\n    } catch (error) {\n      clearFields(e);\n      console.log(error);\n    }\n    setuserChange2(!userChange2);\n  };\n  const clearFields = (e) => {\n    Array.from(e.target).forEach((e) => (e.value = \"\"));\n  };\n\n  const deleteUserFrontend = async (user) => {\n    const deleteResponse = await deleteUser(user._id);\n    if (deleteResponse) {\n      toast.success(deleteResponse, {\n        autoClose: 1200,\n      });\n    } else {\n      toast.error(\"internal server error\");\n    }\n    setuserChange2(!userChange2);\n  };\n\n  const handleChange = (e) => {\n    if (user.role === \"Staff\" || user.role === \"Hod\") {\n      setisDisabled(false);\n    } else {\n      setisDisabled(true);\n    }\n    setUser({ ...user, [e.target.name]: e.target.value });\n  };\n\n  const filterDepartment = (e) => {\n    // console.log(e.target.value);\n    if (e.target.value === \"ALL\") {\n      setFilteredArr(userArr);\n    } else {\n      let newArr = userArr?.filter(\n        (user) => user.department === e.target.value\n      );\n      setFilteredArr(newArr);\n      setuserChange(!userChange);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"container my-5\">\n        <h1>Create a new staff member</h1>\n        <hr />\n        <Form onSubmit={handleClick}>\n          <Form.Group as={Row} className=\"mb-3\" controlId=\"formPlaintextEmail\">\n            <Form.Label column sm=\"2\">\n              Staff ID\n            </Form.Label>\n            <Col sm=\"10\">\n              <Form.Control\n                onChange={handleChange}\n                name=\"staffId\"\n                type=\"text\"\n                placeholder=\"Enter Staff Id\"\n              />\n              <p className=\"text-danger\">{formErrors.staffId}</p>\n            </Col>\n          </Form.Group>\n          <Form.Group as={Row} className=\"mb-3\" controlId=\"formPlaintextEmail\">\n            <Form.Label column sm=\"2\">\n              Designation\n            </Form.Label>\n            <Col sm=\"10\">\n              <Form.Control\n                onChange={handleChange}\n                name=\"designation\"\n                type=\"text\"\n                placeholder=\"Enter designation\"\n              />\n              <p className=\"text-danger\">{formErrors.designation}</p>\n            </Col>\n          </Form.Group>\n          <Form.Group as={Row} className=\"mb-3\" controlId=\"formPlaintextEmail\">\n            <Form.Label column sm=\"2\">\n              Staff Name\n            </Form.Label>\n            <Col sm=\"10\">\n              <Form.Control\n                onChange={handleChange}\n                name=\"staffName\"\n                type=\"text\"\n                placeholder=\"Enter Staff Name\"\n              />\n              <p className=\"text-danger\">{formErrors.staffName}</p>\n            </Col>\n          </Form.Group>\n          <Form.Group as={Row} className=\"mb-3\" controlId=\"formPlaintextEmail\">\n            <Form.Label column sm=\"2\">\n              Email\n            </Form.Label>\n            <Col sm=\"10\">\n              <Form.Control\n                onChange={handleChange}\n                type=\"email\"\n                name=\"email\"\n                placeholder=\"Enter Email\"\n              />\n              <p className=\"text-danger\">{formErrors.email}</p>\n            </Col>\n          </Form.Group>\n          <Form.Group as={Row} className=\"mb-3\" controlId=\"formPlaintextEmail\">\n            <Form.Label column sm=\"2\">\n              Password\n            </Form.Label>\n            <Col sm=\"10\">\n              <Form.Control\n                onChange={handleChange}\n                type=\"Password\"\n                name=\"password\"\n                placeholder=\"Enter Password\"\n              />\n              <p className=\"text-danger\">{formErrors.password}</p>\n            </Col>\n          </Form.Group>\n          <Form.Group as={Row} className=\"mb-3\" controlId=\"formPlaintextEmail\">\n            <Form.Label column sm=\"2\">\n              Joining Date\n            </Form.Label>\n            <Col sm=\"10\">\n              <Form.Control\n                onChange={handleChange}\n                type=\"date\"\n                name=\"joiningDate\"\n              />{\" \"}\n              <p className=\"text-danger\">{formErrors.joiningDate}</p>\n            </Col>\n          </Form.Group>\n          <Form.Group as={Row} className=\"mb-3\" controlId=\"formPlaintextEmail\">\n            <Form.Label column sm=\"2\">\n              Phone Number\n            </Form.Label>\n            <Col sm=\"10\">\n              <Form.Control\n                onChange={handleChange}\n                type=\"tel\"\n                name=\"phnumber\"\n                placeholder=\"Enter Phone Number\"\n              />\n              <p className=\"text-danger\">{formErrors.phnumber}</p>\n            </Col>\n          </Form.Group>\n          <Form.Group as={Row} className=\"mb-3\" controlId=\"formPlaintextEmail\">\n            <Form.Label column sm=\"2\">\n              Role\n            </Form.Label>\n            <Col sm=\"10\">\n              <FloatingLabel controlId=\"floatingSelect\" label=\"Select a role\">\n                <Form.Select\n                  aria-label=\"Floating label select example\"\n                  name=\"role\"\n                  onChange={handleChange}\n                >\n                  <option></option>\n                  <option value=\"Hod\">Hod</option>\n                  <option value=\"Staff\">Staff</option>\n                  <option value=\"Principal\">Principal</option>\n                </Form.Select>{\" \"}\n                <p className=\"text-danger\">{formErrors.role}</p>\n              </FloatingLabel>\n            </Col>\n          </Form.Group>\n          <Form.Group as={Row} className=\"mb-3\" controlId=\"formPlaintextEmail\">\n            <Form.Label column sm=\"2\">\n              Type\n            </Form.Label>\n            <Col sm=\"10\">\n              <FloatingLabel\n                controlId=\"floatingSelect\"\n                label=\"Select type of Staff\"\n              >\n                <Form.Select\n                  aria-label=\"Floating label select example\"\n                  name=\"type\"\n                  onChange={handleChange}\n                >\n                  <option> </option>\n                  <option value=\"Regular\">Regular</option>\n                  <option value=\"Probation\">Probation</option>\n                </Form.Select>{\" \"}\n                <p className=\"text-danger\">{formErrors.type}</p>\n              </FloatingLabel>\n            </Col>\n          </Form.Group>\n\n          <Form.Group\n            as={Row}\n            className=\"mb-3\"\n            controlId=\"formPlaintextPassword\"\n          >\n            <Form.Label column sm=\"2\">\n              Department\n            </Form.Label>\n            <Col sm=\"10\">\n              <FloatingLabel\n                controlId=\"floatingSelect\"\n                label=\"Select a department\"\n              >\n                <Form.Select\n                  aria-label=\"Floating label select example\"\n                  name=\"department\"\n                  disabled={isDisabled}\n                  onChange={handleChange}\n                >\n                  <option></option>\n\n                  <option value=\"CSE\">CSE</option>\n                  <option value=\"ECE\">ECE</option>\n                  <option value=\"EEE\">EEE</option>\n                  <option value=\"CIV\">CIV</option>\n                  <option value=\"PHY\">PHY</option>\n                  <option value=\"CHEM\">CHEM</option>\n                  <option value=\"MATH\">MATH</option>\n                  <option value=\"OFFICE\">OFFICE</option>\n                  <option value=\"MBA\">MBA</option>\n                  <option value=\"MCA\">MCA</option>\n                </Form.Select>{\" \"}\n                <p className=\"text-danger\">{formErrors.department}</p>\n              </FloatingLabel>\n            </Col>\n          </Form.Group>\n          <Form.Group>\n            <Button variant=\"primary\" type=\"submit\">\n              Submit\n            </Button>\n          </Form.Group>\n          <hr />\n        </Form>\n        <div className=\"dropdown\">\n          <label>Filter staff by department</label>\n          <select\n            className=\"btn btn-light dropdown-toggle\"\n            onChange={filterDepartment}\n            label=\"Select Department to view staff\"\n          >\n            <option className=\"dropdown-item\" value=\"ALL\">\n              ALL\n            </option>\n            <option className=\"dropdown-item\" value=\"CSE\">\n              CSE\n            </option>\n            <option className=\"dropdown-item\" value=\"ECE\">\n              ECE\n            </option>\n            <option className=\"dropdown-item\" value=\"EEE\">\n              EEE\n            </option>\n            <option className=\"dropdown-item\" value=\"CIV\">\n              CIV\n            </option>\n            <option className=\"dropdown-item\" value=\"PHY\">\n              PHY\n            </option>\n            <option className=\"dropdown-item\" value=\"CHEM\">\n              CHEM\n            </option>\n            <option className=\"dropdown-item\" value=\"MATH\">\n              MATH\n            </option>\n            <option className=\"dropdown-item\" value=\"OFFICE\">\n              OFFICE\n            </option>\n            <option className=\"dropdown-item\" value=\"MBA\">\n              MBA\n            </option>\n            <option className=\"dropdown-item\" value=\"MCA\">\n              MCA\n            </option>\n          </select>\n        </div>\n        <Table striped bordered hover>\n          <thead>\n            <tr>\n              <th>Staff ID</th>\n              <th>Designation</th>\n              <th>Full Name</th>\n              <th>Email </th>\n              <th>Phone Number</th>\n              <th>Role</th>\n              <th>Type</th>\n              <th>Leaves remaining</th>\n              <th>Department</th>\n            </tr>\n          </thead>\n          <tbody>\n            {filteredArr?.map((user) => {\n              return (\n                <tr key={user.staffId}>\n                  {user.role !== \"Admin\" && (\n                    <>\n                      <td>{user.staffId}</td>\n                      <td>{user.designation}</td>\n                      <td>{user.staffName}</td>\n                      <td>{user.email}</td>\n                      <td>{user.phnumber}</td>\n                      <td>{user.role}</td>\n                      <td>{user.type}</td>\n                      <td>\n                        {user.type === \"Regular\" ? (\n                          <span>\n                            {user.earnedLeaves + user.regularStaffLeaves}\n                          </span>\n                        ) : (\n                          <span>{user.probationStaffLeaves}</span>\n                        )}\n                      </td>\n                      <td\n                        style={{\n                          display: \"flex\",\n                          justifyContent: \"space-between\",\n                          cursor: \"pointer\",\n                        }}\n                      >\n                        <span>{user.department}</span>\n                        <span onClick={() => deleteUserFrontend(user)}>\n                          <DeleteOutlineTwoToneIcon />\n                        </span>\n                      </td>\n                    </>\n                  )}\n                </tr>\n              );\n            })}\n          </tbody>\n        </Table>\n      </div>\n    </>\n  );\n}\n\nexport default Create;\n","export default __webpack_public_path__ + \"static/media/jgi.b955fc55.png\";","import React, { useContext, useEffect, useState } from \"react\";\nimport LeaveContext from \"../../context/LeaveContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport logo from \"./jgi.png\";\nimport \"react-toastify/dist/ReactToastify.css\";\nfunction Login() {\n  const userContext = useContext(LeaveContext);\n  const navigate = useNavigate();\n  const { login } = userContext;\n  const [user, setUser] = useState({});\n\n  const [formErrors, setFormErrors] = useState({});\n  useEffect(() => {\n    localStorage.removeItem(\"storedUser\");\n    const reloadCount = sessionStorage.getItem(\"reloadCount\");\n    if (reloadCount < 1) {\n      sessionStorage.setItem(\"reloadCount\", String(reloadCount + 1));\n      window.location.reload();\n    } else {\n      sessionStorage.removeItem(\"reloadCount\");\n    }\n  }, []);\n\n  const handleOnChange = (e) => {\n    setUser({ ...user, [e.target.name]: e.target.value });\n  };\n\n  const handleOnSubmit = async (e) => {\n    e.preventDefault();\n    setFormErrors(validate(user));\n    if (user.email && user.password) {\n      const res = await login(user);\n\n      if (res) {\n        const localUserDetails = JSON.parse(localStorage.getItem(\"storedUser\"));\n        if (localUserDetails?.success) {\n          const userDets = localUserDetails?.user;\n          if (\n            userDets?.role === \"Staff\" ||\n            userDets?.role === \"Hod\" ||\n            userDets?.role === \"Principal\"\n          ) {\n            navigate(\"/\");\n          } else if (userDets?.role === \"Admin\") {\n            navigate(\"/admin\");\n          }\n        } else if (user.email && user.password) {\n          toast.error(res.msg);\n        }\n      } else {\n        toast.error(\"internal server error\");\n      }\n    }\n  };\n  const validate = (values) => {\n    const errors = {};\n    if (!values.email) {\n      errors.email = \"Email is required\";\n    }\n    if (!values.password) {\n      errors.password = \"Password is required\";\n    }\n    return errors;\n  };\n\n  return (\n    <div className=\"vertical-center\">\n      <img className=\"logo\" src={logo} alt=\"\" />\n      <div className=\" loginContainer\">\n        <form className=\"requires-validation\" onSubmit={handleOnSubmit}>\n          <div className=\"mb-3\">\n            <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">\n              Email address <span className=\"text-danger\"> *</span>\n            </label>\n            <input\n              type=\"email\"\n              name=\"email\"\n              onChange={handleOnChange}\n              className=\"form-control\"\n              id=\"exampleInputEmail1\"\n              aria-describedby=\"emailHelp\"\n            />\n            <p className=\"text-danger\">{formErrors.email}</p>\n          </div>\n          <div className=\"mb-3\">\n            <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">\n              Password <span className=\"text-danger\"> *</span>\n            </label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              onChange={handleOnChange}\n              className=\"form-control\"\n              id=\"exampleInputPassword1\"\n            />\n            <p className=\"text-danger\">{formErrors.password}</p>\n          </div>\n          <button type=\"submit\" className=\"btn btn-primary\">\n            Login\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\nimport \"../../index.css\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { Table } from \"react-bootstrap\";\nimport LeaveContext from \"../../context/LeaveContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\nfunction Principal() {\n  const navigate = useNavigate();\n  const userContext = useContext(LeaveContext);\n  const [userChange, setuserChange] = useState(false);\n  const [filteredArr, setFilteredArr] = useState([]);\n  const { userArr, getusers } = userContext;\n  useEffect(() => {\n    if (userDets?.role !== \"Principal\") {\n      navigate(\"/login\");\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    async function callUserApi() {\n      if (userDets?.role === \"Principal\") {\n        const response = await getusers();\n        // console.log(response);\n        if (response) {\n          setFilteredArr(response);\n        } else {\n          toast.error(\"Internal Server Error\");\n        }\n      }\n    }\n    callUserApi();\n    // eslint-disable-next-line\n  }, []);\n  const localUserDetails = JSON.parse(localStorage.getItem(\"storedUser\"));\n  const userDets = localUserDetails?.user;\n\n  const filterDepartment = (e) => {\n    // console.log(e.target.value);\n    if (e.target.value === \"ALL\") {\n      setFilteredArr(userArr);\n    } else {\n      let newArr = userArr?.filter(\n        (user) => user.department === e.target.value\n      );\n      setFilteredArr(newArr);\n      setuserChange(!userChange);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"container center\">\n        <h1\n          className=\"my-4 text-center \"\n          style={{ border: \"1px solid black\", padding: \"1rem\" }}\n        >\n          Jain College of Engineering Staff Details\n        </h1>\n        <div className=\"contents\">\n          <div className=\"dropdown\">\n            <label>Filter staff by department : </label>\n            <select\n              className=\"btn btn-light dropdown-toggle\"\n              onChange={filterDepartment}\n              label=\"Select Department to view staff\"\n            >\n              <option className=\"dropdown-item\" value=\"ALL\">\n                ALL\n              </option>\n              <option className=\"dropdown-item\" value=\"CSE\">\n                CSE\n              </option>\n              <option className=\"dropdown-item\" value=\"ECE\">\n                ECE\n              </option>\n              <option className=\"dropdown-item\" value=\"EEE\">\n                EEE\n              </option>\n              <option className=\"dropdown-item\" value=\"CIV\">\n                CIV\n              </option>\n              <option className=\"dropdown-item\" value=\"PHY\">\n                PHY\n              </option>\n              <option className=\"dropdown-item\" value=\"CHEM\">\n                CHEM\n              </option>\n              <option className=\"dropdown-item\" value=\"MATH\">\n                MATH\n              </option>\n              <option className=\"dropdown-item\" value=\"OFFICE\">\n                OFFICE\n              </option>\n              <option className=\"dropdown-item\" value=\"MBA\">\n                MBA\n              </option>\n              <option className=\"dropdown-item\" value=\"MCA\">\n                MCA\n              </option>\n            </select>\n          </div>\n          <Table striped bordered hover>\n            <thead>\n              <tr>\n                <th>Staff ID</th>\n                <th>Designation</th>\n                <th>Full Name</th>\n                <th>Email </th>\n                <th>Phone Number</th>\n                <th>Role</th>\n                <th>Type</th>\n                <th>Leaves remaining</th>\n                <th>Department</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredArr.map((user) => {\n                return (\n                  <tr key={user.staffId}>\n                    {user.role !== \"Principal\" && user.role !== \"Admin\" && (\n                      <>\n                        <td>{user.staffId}</td>\n                        <td>{user.designation}</td>\n                        <td>{user.staffName}</td>\n                        <td>{user.email}</td>\n                        <td>{user.phnumber}</td>\n                        <td>{user.role}</td>\n                        <td>{user.type}</td>\n                        <td>\n                          {user.type === \"Regular\" ? (\n                            <span>\n                              {user.earnedLeaves + user.regularStaffLeaves}\n                            </span>\n                          ) : (\n                            <span>{user.probationStaffLeaves}</span>\n                          )}\n                        </td>\n                        <td>\n                          <span>{user.department}</span>\n                        </td>\n                      </>\n                    )}\n                  </tr>\n                );\n              })}\n            </tbody>\n          </Table>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Principal;\n","import { Table } from \"react-bootstrap\";\nimport { useContext, useEffect, useState } from \"react\";\nimport LeaveContext from \"../context/LeaveContext\";\nimport \"../index.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport CheckCircleOutlineOutlinedIcon from \"@mui/icons-material/CheckCircleOutlineOutlined\";\nimport PendingIcon from \"@mui/icons-material/Pending\";\nimport CancelIcon from \"@mui/icons-material/Cancel\";\nfunction LeaveRequest() {\n  const localUserDetails = JSON.parse(localStorage.getItem(\"storedUser\"));\n  const userDets = localUserDetails?.user;\n\n  const [userChange, setuserChange] = useState(false);\n  const [modalDetails, setModalDetails] = useState({});\n  const [leaveReqSubStaffDetails, setLeaveReqSubStaffDetails] = useState([]);\n  const [detailedLeaveReq, setDetailedLeaveReq] = useState({});\n\n  const userContext = useContext(LeaveContext);\n  const navigate = useNavigate();\n  const {\n    recievedLeaveArr,\n    recievedRequests,\n    requestedLeavesArr,\n    myRequestedLeaves,\n    staffStatus,\n    requestesForHod,\n    requestesForHodArr,\n    getAllLeaves,\n    allLeavesArr,\n  } = userContext;\n  useEffect(() => {\n    if (userDets?.role === \"Admin\" || !userDets?.role) {\n      navigate(\"/login\");\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    if (\n      userDets?.role === \"Staff\" ||\n      userDets?.role === \"Hod\" ||\n      userDets?.role === \"Principal\"\n    ) {\n      myRequestedLeaves(userDets?._id);\n    }\n    if (userDets?.role === \"Staff\") {\n      recievedRequests(userDets?.staffName);\n    } else if (userDets?.role === \"Hod\") {\n      requestesForHod(userDets?.department);\n    }\n\n    // eslint-disable-next-line\n  }, [userChange]);\n  useEffect(() => {\n    getAllLeaves();\n    // eslint-disable-next-line\n  }, []);\n  let count = 0;\n  const populateModal = (modalDeets) => {\n    setModalDetails(modalDeets);\n  };\n  const populateSubStaffDetailsModal = (leaveReq) => {\n    setLeaveReqSubStaffDetails(leaveReq.subStaffArr);\n  };\n\n  const populateDetailedView = (leaveReq) => {\n    setDetailedLeaveReq(leaveReq);\n  };\n  const todaysDate = new Date();\n\n  let updatedArr = [];\n  allLeavesArr?.forEach((leave) => {\n    const startDateObj = new Date(leave.dateStart);\n    const endDateObj = new Date(leave.dateEnd);\n\n    if (\n      todaysDate.getDate() <= endDateObj.getDate() &&\n      todaysDate.getDate() >= startDateObj.getDate()\n    ) {\n      updatedArr.push(leave);\n    }\n  });\n\n  return (\n    <div className=\"leaveReqDiv\">\n      <div className=\"myRequests\">\n        <div>\n          <h1>My leave requests</h1>\n          <Table striped bordered hover>\n            <thead>\n              <tr className=\"theads\">\n                <th>S.No</th>\n                <th>Subject</th>\n                <th>From</th>\n                <th>To</th>\n                <th>Staff-status</th>\n                {userDets?.role === \"Staff\" ? (\n                  <th>Hod-status</th>\n                ) : (\n                  <th>Admin-status</th>\n                )}\n                <th>View Leave</th>\n              </tr>\n            </thead>\n            <tbody>\n              {[...requestedLeavesArr].reverse().map((leaveReq) => {\n                return (\n                  <tr className=\"theads\" key={leaveReq._id}>\n                    <td>{(count += 1)}</td>\n                    <td>{leaveReq.subject}</td>\n                    <td>{new Date(leaveReq.dateStart).toLocaleDateString()}</td>\n                    <td>{new Date(leaveReq.dateEnd).toLocaleDateString()}</td>\n                    <td>\n                      {leaveReq.byStaff !== 1 && (\n                        <>\n                          <button\n                            type=\"button\"\n                            className=\"btn btn-primary\"\n                            data-bs-toggle=\"modal\"\n                            data-bs-target=\"#byStaffApproval\"\n                            onClick={() =>\n                              populateSubStaffDetailsModal(leaveReq)\n                            }\n                          >\n                            view\n                          </button>\n\n                          <div\n                            className=\"modal fade\"\n                            id=\"byStaffApproval\"\n                            tabIndex=\"-1\"\n                            aria-labelledby=\"byStaffApprovalLabel\"\n                            aria-hidden=\"true\"\n                          >\n                            <div className=\"modal-dialog\">\n                              <div className=\"modal-content\">\n                                <div className=\"modal-header\">\n                                  <h5\n                                    className=\"modal-title\"\n                                    id=\"byStaffApprovalLabel\"\n                                  >\n                                    Your substitute staff requests\n                                  </h5>\n                                  <button\n                                    type=\"button\"\n                                    className=\"btn-close\"\n                                    data-bs-dismiss=\"modal\"\n                                    aria-label=\"Close\"\n                                  ></button>\n                                </div>\n                                <div className=\"modal-body\">\n                                  {leaveReqSubStaffDetails?.map((item) => {\n                                    return (\n                                      <div\n                                        key={item.name}\n                                        style={{ display: \"flex\" }}\n                                      >\n                                        <h5>\n                                          Name:<span>{item?.name}</span>\n                                        </h5>\n                                        <h5 className=\"mx-2\">\n                                          Status:\n                                          {(item?.status === 1 && (\n                                            <span className=\"text-success fw-bold\">\n                                              <CheckCircleOutlineOutlinedIcon />\n                                            </span>\n                                          )) ||\n                                            (item?.status === 0 && (\n                                              <span className=\"text-warning fw-bold\">\n                                                <PendingIcon />\n                                              </span>\n                                            )) ||\n                                            (item?.status === 2 && (\n                                              <span className=\"text-danger fw-bold\">\n                                                <CancelIcon />\n                                              </span>\n                                            ))}\n                                        </h5>\n                                      </div>\n                                    );\n                                  })}\n                                </div>\n                                <div className=\"modal-footer\">\n                                  <button\n                                    type=\"button\"\n                                    className=\"btn btn-secondary\"\n                                    data-bs-dismiss=\"modal\"\n                                  >\n                                    Close\n                                  </button>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </>\n                      )}\n                      {leaveReq?.byStaff === 1 && (\n                        <span className=\"text-success fw-bold\">Approved</span>\n                      )}\n                    </td>\n                    <td>\n                      {userDets?.role === \"Staff\"\n                        ? leaveReq.byHod === 0 && (\n                            <span className=\"text-warning fw-bold\">\n                              Pending...\n                            </span>\n                          )\n                        : leaveReq.byAdmin === 0 && (\n                            <span className=\"text-warning fw-bold\">\n                              Pending...\n                            </span>\n                          )}\n                      {userDets?.role === \"Staff\"\n                        ? leaveReq.byHod === 1 && (\n                            <span className=\"text-success fw-bold\">\n                              Approved\n                            </span>\n                          )\n                        : leaveReq.byAdmin === 1 && (\n                            <span className=\"text-success fw-bold\">\n                              Approved\n                            </span>\n                          )}\n                      {userDets?.role !== \"Hod\"\n                        ? leaveReq.byHod === 2 && (\n                            <span className=\"text-danger fw-bold\">\n                              Declined\n                            </span>\n                          )\n                        : leaveReq.byAdmin === 2 && (\n                            <span className=\"text-danger fw-bold\">\n                              Declined\n                            </span>\n                          )}\n                    </td>\n                    <td>\n                      <>\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-primary\"\n                          data-bs-toggle=\"modal\"\n                          data-bs-target=\"#viewInDetail\"\n                          onClick={() => populateDetailedView(leaveReq)}\n                        >\n                          view\n                        </button>\n\n                        <div\n                          className=\"modal fade\"\n                          id=\"viewInDetail\"\n                          tabIndex=\"-1\"\n                          aria-labelledby=\"viewInDetailLabel\"\n                          aria-hidden=\"true\"\n                        >\n                          <div className=\"modal-dialog\">\n                            <div className=\"modal-content\">\n                              <div className=\"modal-header\">\n                                <h5\n                                  className=\"modal-title\"\n                                  id=\"exampleModalLabel\"\n                                >\n                                  Leave request details\n                                </h5>\n                                <button\n                                  type=\"button\"\n                                  className=\"btn-close\"\n                                  data-bs-dismiss=\"modal\"\n                                  aria-label=\"Close\"\n                                ></button>\n                              </div>\n                              <div\n                                className=\"modal-body\"\n                                style={{ textAlign: \"left\" }}\n                              >\n                                <h5>\n                                  Subject:\n                                  <span>{detailedLeaveReq?.subject}</span>\n                                </h5>\n                                <h5>\n                                  Description:\n                                  <span>{detailedLeaveReq?.body}</span>\n                                </h5>\n                                <h5>\n                                  Type:\n                                  <span>{detailedLeaveReq?.type}</span>\n                                </h5>\n                                <h5>\n                                  From:\n                                  <span>\n                                    {new Date(\n                                      detailedLeaveReq?.dateStart\n                                    ).toDateString()}\n                                  </span>\n                                </h5>\n                                <h5>\n                                  To:\n                                  <span>\n                                    {new Date(\n                                      detailedLeaveReq?.dateEnd\n                                    ).toDateString()}\n                                  </span>\n                                </h5>\n                                <h5>\n                                  No. of days:\n                                  <span>{detailedLeaveReq?.noOfDays}</span>\n                                </h5>\n                              </div>\n                              <div className=\"modal-footer\">\n                                <button\n                                  type=\"button\"\n                                  className=\"btn btn-secondary\"\n                                  data-bs-dismiss=\"modal\"\n                                >\n                                  Close\n                                </button>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </Table>\n        </div>\n      </div>\n\n      {userDets?.role !== \"Principal\" ? (\n        <div className=\"recievedRequests\">\n          <h1>Substitution requests</h1>\n          <Table striped bordered hover>\n            <thead>\n              <tr>\n                <th>Designation</th>\n                <th>Name</th>\n                <th>Subject</th>\n                <th>Start date</th>\n                <th>End date</th>\n                <th>Accept/Decline</th>\n              </tr>\n            </thead>\n            {userDets?.role === \"Staff\" ? (\n              <>\n                <tbody>\n                  {[...recievedLeaveArr].reverse().map((leaveReq) => {\n                    // console.log(modalDetails?.byStaff);\n                    return (\n                      <tr key={leaveReq._id}>\n                        <td className=\"center\">{leaveReq.designation}</td>\n                        <td className=\"center\">{leaveReq.name}</td>\n                        <td className=\"center\">{leaveReq.subject}</td>\n                        <td className=\"center\">\n                          {new Date(leaveReq.dateStart).toLocaleDateString()}\n                        </td>\n                        <td className=\"center\">\n                          {new Date(leaveReq.dateEnd).toLocaleDateString()}\n                        </td>\n\n                        <td\n                          style={{\n                            display: \"flex\",\n                            justifyContent: \"space-around\",\n                            cursor: \"pointer\",\n                          }}\n                        >\n                          {leaveReq.subStaffArr.some((element) => {\n                            if (element.name === userDets.staffName) {\n                              if (element.status === 0) return true;\n                            }\n                            return false;\n                          }) ? (\n                            <button\n                              type=\"button\"\n                              className=\"btn btn-primary \"\n                              data-bs-toggle=\"modal\"\n                              data-bs-target=\"#bbb\"\n                              onClick={() => populateModal(leaveReq)}\n                            >\n                              View\n                            </button>\n                          ) : (\n                            <span>\n                              {leaveReq.subStaffArr.some((user) => {\n                                if (user.name === userDets.staffName) {\n                                  if (user.status === 1) {\n                                    return true;\n                                  }\n                                }\n                                return false;\n                              }) ? (\n                                <span className=\"text-success\">Accepted</span>\n                              ) : (\n                                <span className=\"text-danger\">Declined</span>\n                              )}\n                            </span>\n                          )}\n\n                          <div\n                            className=\"modal fade\"\n                            id=\"bbb\"\n                            tabIndex=\"-1\"\n                            aria-labelledby=\"exampleModalLabel\"\n                            aria-hidden=\"true\"\n                          >\n                            <div className=\"modal-dialog\">\n                              <div className=\"modal-content\">\n                                <div className=\"modal-header\">\n                                  <h5\n                                    className=\"modal-title\"\n                                    id=\"exampleModalLabel\"\n                                  >\n                                    Leave request details\n                                  </h5>\n                                  <button\n                                    type=\"button\"\n                                    className=\"btn-close\"\n                                    data-bs-dismiss=\"modal\"\n                                    aria-label=\"Close\"\n                                  ></button>\n                                </div>\n                                <div className=\"modal-body \">\n                                  <h5>\n                                    Name:<span>{modalDetails?.name}</span>\n                                  </h5>\n                                  <h5>\n                                    Subject:<span>{modalDetails?.subject}</span>\n                                  </h5>\n                                  <h5>\n                                    Description:\n                                    <span>{modalDetails?.body}</span>\n                                  </h5>\n                                  <h5>\n                                    From:\n                                    <span>\n                                      {new Date(\n                                        modalDetails?.dateStart\n                                      ).toDateString()}\n                                    </span>\n                                  </h5>\n                                  <h5>\n                                    To:\n                                    <span>\n                                      {new Date(\n                                        modalDetails?.dateEnd\n                                      ).toDateString()}\n                                    </span>\n                                  </h5>\n                                </div>\n                                <div className=\"modal-footer\">\n                                  <button\n                                    type=\"button\"\n                                    className=\"btn btn-secondary\"\n                                    data-bs-dismiss=\"modal\"\n                                    onClick={async () => {\n                                      const res = await staffStatus(\n                                        modalDetails?._id,\n                                        1,\n                                        userDets?.role,\n                                        modalDetails?.noOfDays,\n                                        userDets?.staffName\n                                      );\n                                      if (res) {\n                                        setuserChange(!userChange);\n                                        toast.info(\"Accepted\");\n                                      } else {\n                                        toast.danger(\"Internal server error\");\n                                      }\n                                    }}\n                                  >\n                                    Accept\n                                  </button>\n                                  <button\n                                    type=\"button\"\n                                    className=\"btn btn-primary\"\n                                    data-bs-dismiss=\"modal\"\n                                    onClick={async () => {\n                                      const res = await staffStatus(\n                                        modalDetails?._id,\n                                        2,\n                                        userDets?.role,\n                                        modalDetails?.noOfDays,\n                                        userDets?.staffName\n                                      );\n                                      if (res) {\n                                        setuserChange(!userChange);\n                                        toast.info(\"Declined\");\n                                      } else {\n                                        toast.danger(\"Internal server error\");\n                                      }\n                                    }}\n                                  >\n                                    Decline\n                                  </button>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </td>\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </>\n            ) : (\n              <>\n                <tbody>\n                  {[...requestesForHodArr].reverse().map((leaveReq) => {\n                    return (\n                      <tr key={leaveReq._id}>\n                        {leaveReq.userId !== userDets._id && (\n                          <>\n                            <td className=\"center\">{leaveReq.designation}</td>\n                            <td className=\"center\">{leaveReq.name}</td>\n                            <td className=\"center\">{leaveReq.subject}</td>\n                            <td className=\"center\">\n                              {new Date(\n                                leaveReq.dateStart\n                              ).toLocaleDateString()}\n                            </td>\n                            <td className=\"center\">\n                              {new Date(leaveReq.dateEnd).toLocaleDateString()}\n                            </td>\n                            <td\n                              style={{\n                                display: \"flex\",\n                                justifyContent: \"space-around\",\n                                cursor: \"pointer\",\n                              }}\n                            >\n                              {leaveReq.byHod === 0 ? (\n                                <button\n                                  type=\"button\"\n                                  // ref={ref}\n                                  className=\"btn btn-primary \"\n                                  data-bs-toggle=\"modal\"\n                                  data-bs-target=\"#aaa\"\n                                  onClick={() => populateModal(leaveReq)}\n                                >\n                                  View\n                                </button>\n                              ) : (\n                                <span>\n                                  {leaveReq.byHod === 1 ? (\n                                    <span className=\"text-success\">\n                                      Accepted\n                                    </span>\n                                  ) : (\n                                    <span className=\"text-danger\">\n                                      Declined\n                                    </span>\n                                  )}\n                                </span>\n                              )}\n                              <div\n                                className=\"modal fade\"\n                                id=\"aaa\"\n                                tabIndex=\"-1\"\n                                aria-labelledby=\"exampleModalLabel\"\n                                aria-hidden=\"true\"\n                              >\n                                <div className=\"modal-dialog\">\n                                  <div className=\"modal-content\">\n                                    <div className=\"modal-header\">\n                                      <h5\n                                        className=\"modal-title\"\n                                        id=\"exampleModalLabel\"\n                                      >\n                                        Leave request details\n                                      </h5>\n                                      <button\n                                        type=\"button\"\n                                        className=\"btn-close\"\n                                        data-bs-dismiss=\"modal\"\n                                        aria-label=\"Close\"\n                                      ></button>\n                                    </div>\n                                    <div className=\"modal-body\">\n                                      <h5>\n                                        Name:<span>{modalDetails?.name}</span>\n                                      </h5>\n                                      <h5>\n                                        Subject:\n                                        <span>{modalDetails?.subject}</span>\n                                      </h5>\n                                      <h5>\n                                        Description:\n                                        <span>{modalDetails?.body}</span>\n                                      </h5>\n                                      <h5>\n                                        From:\n                                        <span>\n                                          {new Date(\n                                            modalDetails?.dateStart\n                                          ).toDateString()}\n                                        </span>\n                                      </h5>\n                                      <h5>\n                                        To:\n                                        <span>\n                                          {new Date(\n                                            modalDetails?.dateEnd\n                                          ).toDateString()}\n                                        </span>\n                                      </h5>\n                                    </div>\n                                    <div className=\"modal-footer\">\n                                      <button\n                                        type=\"button\"\n                                        className=\"btn btn-secondary\"\n                                        data-bs-dismiss=\"modal\"\n                                        onClick={() => {\n                                          staffStatus(\n                                            modalDetails._id,\n                                            1,\n                                            userDets?.role,\n                                            modalDetails?.noOfDays,\n                                            userDets?.staffName\n                                          );\n                                          setuserChange(!userChange);\n                                          toast.info(\"Accepted\");\n                                        }}\n                                      >\n                                        Accept\n                                      </button>\n                                      <button\n                                        type=\"button\"\n                                        className=\"btn btn-primary\"\n                                        data-bs-dismiss=\"modal\"\n                                        onClick={() => {\n                                          staffStatus(\n                                            modalDetails._id,\n                                            2,\n                                            userDets?.role,\n                                            modalDetails?.noOfDays,\n                                            userDets?.staffName\n                                          );\n                                          setuserChange(!userChange);\n                                          toast.info(\"Declined\");\n                                        }}\n                                      >\n                                        Decline\n                                      </button>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </td>\n                          </>\n                        )}\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </>\n            )}\n          </Table>\n        </div>\n      ) : (\n        <div\n          className=\"card\"\n          style={{\n            width: \"20rem\",\n            height: \"5rem\",\n            margin: \"2rem 1rem 1rem 1rem\",\n          }}\n        >\n          <div className=\"card-header text-center\">\n            {new Date().toDateString()}\n          </div>\n          <div className=\"card card-body\">\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              data-bs-toggle=\"modal\"\n              data-bs-target=\"#onLeaveToday\"\n            >\n              View today's leaves\n            </button>\n            <div\n              className=\"modal fade\"\n              id=\"onLeaveToday\"\n              tabIndex=\"-1\"\n              aria-labelledby=\"exampleModalLabel\"\n              aria-hidden=\"true\"\n            >\n              <div className=\"modal-dialog modal-fullscreen\">\n                <div className=\"modal-content\">\n                  <div className=\"modal-header\">\n                    <h5 className=\"modal-title\" id=\"exampleModalLabel\">\n                      Staff on Leave today\n                    </h5>\n                    <button\n                      type=\"button\"\n                      className=\"btn-close\"\n                      data-bs-dismiss=\"modal\"\n                      aria-label=\"Close\"\n                    ></button>\n                  </div>\n                  <div className=\"modal-body text-center\">\n                    <Table striped bordered hover>\n                      <thead>\n                        <tr>\n                          <th>Designation</th>\n                          <th>Name</th>\n                          <th>Subject</th>\n                          <th>Start date</th>\n                          <th>End date</th>\n                          <th>Number of days</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {updatedArr.map((leave) => {\n                          return (\n                            <tr key={leave._id}>\n                              <td>{leave.designation}</td>\n                              <td>{leave.name}</td>\n                              <td>{leave.subject}</td>\n                              <td>\n                                {new Date(leave.dateStart).toDateString()}\n                              </td>\n                              <td>{new Date(leave.dateEnd).toDateString()}</td>\n                              <td>{leave.noOfDays}</td>\n                            </tr>\n                          );\n                        })}\n                      </tbody>\n                    </Table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\nexport default LeaveRequest;\n","import LeaveRequest from \"../../components/LeaveRequest\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useEffect } from \"react\";\n\nfunction Staff() {\n  const navigate = useNavigate();\n  // const localUserDetails = JSON.parse(localStorage.getItem(\"storedUser\"));\n  // const userDets = localUserDetails?.user;\n  useEffect(() => {\n    if (!localStorage.getItem(\"storedUser\")) {\n      navigate(\"/login\");\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <>\n      <LeaveRequest />\n    </>\n  );\n}\n\nexport default Staff;\n","import \"../../index.css\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { Table } from \"react-bootstrap\";\nimport LeaveContext from \"../../context/LeaveContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\nfunction Hodrequests() {\n  const navigate = useNavigate();\n  const [modalDetails, setModalDetails] = useState({});\n  const userContext = useContext(LeaveContext);\n  const [userChange, setuserChange] = useState(false);\n\n  const { requestsForAdmin, requestsForAdminArr, staffStatus } = userContext;\n\n  const localUserDetails = JSON.parse(localStorage.getItem(\"storedUser\"));\n  const userDets = localUserDetails?.user;\n  useEffect(() => {\n    if (userDets?.role !== \"Admin\") {\n      navigate(\"/login\");\n    }\n    // eslint-disable-next-line\n  }, []);\n  useEffect(() => {\n    if (userDets.role === \"Admin\") requestsForAdmin();\n    // eslint-disable-next-line\n  }, [userChange]);\n  const populateModal = (modalDeets) => {\n    setModalDetails(modalDeets);\n  };\n  // console.log(requestsForAdminArr);\n  return (\n    <>\n      <div className=\"container my-5\">\n        <h1 className=\"text-center mb-3\">Incoming leave applications</h1>\n        <Table striped bordered hover>\n          <thead>\n            <tr className=\"theads\">\n              <th>Designation</th>\n              <th>Full Name</th>\n              <th>Subject</th>\n              <th>Start date</th>\n              <th>End date</th>\n              <th>Accept/Decline</th>\n            </tr>\n          </thead>\n          <tbody>\n            {requestsForAdminArr.map((leaveReq) => {\n              return (\n                <tr key={leaveReq._id}>\n                  <td className=\"center\">{leaveReq.designation}</td>\n                  <td className=\"center\">{leaveReq.name}</td>\n                  <td className=\"center\">{leaveReq.subject}</td>\n                  <td className=\"center\">\n                    {new Date(leaveReq.dateStart).toDateString()}\n                  </td>\n                  <td className=\"center\">\n                    {new Date(leaveReq.dateEnd).toDateString()}\n                  </td>\n                  <td\n                    style={{\n                      display: \"flex\",\n                      justifyContent: \"space-around\",\n                      cursor: \"pointer\",\n                    }}\n                  >\n                    {leaveReq.byAdmin === 0 ? (\n                      <button\n                        type=\"button\"\n                        // ref={ref}\n                        className=\"btn btn-primary \"\n                        data-bs-toggle=\"modal\"\n                        data-bs-target=\"#aaa\"\n                        onClick={() => populateModal(leaveReq)}\n                      >\n                        View\n                      </button>\n                    ) : (\n                      <span>\n                        {leaveReq.byAdmin === 1 ? (\n                          <span className=\"text-success\">Accepted</span>\n                        ) : (\n                          <span className=\"text-danger\">Declined</span>\n                        )}\n                      </span>\n                    )}\n                    <div\n                      className=\"modal fade\"\n                      id=\"aaa\"\n                      tabIndex=\"-1\"\n                      aria-labelledby=\"exampleModalLabel\"\n                      aria-hidden=\"true\"\n                    >\n                      <div className=\"modal-dialog\">\n                        <div className=\"modal-content\">\n                          <div className=\"modal-header\">\n                            <h5 className=\"modal-title\" id=\"exampleModalLabel\">\n                              Leave request details\n                            </h5>\n                            <button\n                              type=\"button\"\n                              className=\"btn-close\"\n                              data-bs-dismiss=\"modal\"\n                              aria-label=\"Close\"\n                            ></button>\n                          </div>\n                          <div className=\"modal-body\">\n                            <h5>\n                              Name:<span>{modalDetails?.name}</span>\n                            </h5>\n                            <h5>\n                              Subject:<span>{modalDetails?.subject}</span>\n                            </h5>\n                            <h5>\n                              Description:<span>{modalDetails?.body}</span>\n                            </h5>\n                            <h5>\n                              Type:<span>{modalDetails?.type}</span>\n                            </h5>\n                            <h5>\n                              From:\n                              <span>\n                                {new Date(\n                                  modalDetails?.dateStart\n                                ).toDateString()}\n                              </span>\n                            </h5>\n                            <h5>\n                              To:\n                              <span>\n                                {new Date(modalDetails?.dateEnd).toDateString()}\n                              </span>\n                            </h5>\n                            <h5>\n                              No. of days:<span>{modalDetails?.noOfDays}</span>\n                            </h5>\n                          </div>\n                          <div className=\"modal-footer\">\n                            <button\n                              type=\"button\"\n                              className=\"btn btn-secondary\"\n                              data-bs-dismiss=\"modal\"\n                              onClick={async () => {\n                                const res = await staffStatus(\n                                  modalDetails?._id,\n                                  1,\n                                  \"Admin\",\n                                  modalDetails?.noOfDays\n                                );\n                                if (res) {\n                                  setuserChange(!userChange);\n                                  toast.info(\"Accepted\");\n                                } else {\n                                  toast.danger(\"Internal server error\");\n                                }\n                              }}\n                            >\n                              Accept\n                            </button>\n                            <button\n                              type=\"button\"\n                              className=\"btn btn-primary\"\n                              data-bs-dismiss=\"modal\"\n                              onClick={async () => {\n                                const res = await staffStatus(\n                                  modalDetails?._id,\n                                  2,\n                                  \"Admin\",\n                                  modalDetails?.noOfDays\n                                );\n                                if (res) {\n                                  setuserChange(!userChange);\n                                  toast.info(\"Declined\");\n                                } else {\n                                  toast.danger(\"Internal server error\");\n                                }\n                              }}\n                            >\n                              Decline\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </Table>\n      </div>\n    </>\n  );\n}\n\nexport default Hodrequests;\n","import { useContext, useEffect, useState } from \"react\";\nimport { Button, FloatingLabel, Form } from \"react-bootstrap\";\nimport LeaveContext from \"../../context/LeaveContext\";\nimport \"../../index.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport React from \"react\";\nimport { MultiSelect } from \"react-multi-select-component\";\n\nfunction CreateLeave() {\n  const localUserDetails = JSON.parse(localStorage.getItem(\"storedUser\"));\n  const navigate = useNavigate();\n  const userDets = localUserDetails?.user;\n  const [userChange, setuserChange] = useState(false);\n  const [totalLeaveDays, setTotalLeaveDays] = useState(0);\n  const [dateEndState, setDateEndState] = useState(null);\n  const [dateStartState, setDateStartState] = useState(null);\n  const [isEndDateDisabled, setIsEndDateDisabled] = useState(true);\n  const [isSubmitDisabled, setisSubmitDisabled] = useState(false);\n  const [selected, setSelected] = useState([]);\n  const [formErrors, setFormErrors] = useState({});\n  const multipleSubStaff = [];\n  const [leaveData, setLeaveData] = useState({\n    userId: userDets?._id,\n    designation: userDets?.designation,\n    department: userDets?.department,\n    name: userDets?.staffName,\n  });\n\n  //\n\n  useEffect(() => {\n    let start = new Date(leaveData.dateStart);\n    let finish = new Date(leaveData.dateEnd);\n    let dayMilliseconds = 1000 * 60 * 60 * 24;\n    let totalDays = 0;\n    while (start <= finish) {\n      totalDays++;\n      start = new Date(+start + dayMilliseconds);\n    }\n    let leaveCount = totalDays;\n    setTotalLeaveDays(leaveCount);\n\n    setLeaveData({ ...leaveData, noOfDays: leaveCount });\n\n    if (dateStartState !== null) {\n      setIsEndDateDisabled(false);\n    } else {\n      setIsEndDateDisabled(true);\n    }\n\n    if (userDets.type === \"Regular\") {\n      if (\n        leaveData.type === \"Casual\" &&\n        totalLeaveDays > userDets.regularStaffLeaves\n      ) {\n        setisSubmitDisabled(true);\n      } else if (\n        leaveData.type === \"Earned\" &&\n        totalLeaveDays > userDets.earnedLeaves\n      ) {\n        setisSubmitDisabled(true);\n      } else {\n        setisSubmitDisabled(false);\n      }\n    } else if (userDets.type === \"Probation\") {\n      if (\n        leaveData.type === \"Casual\" &&\n        totalLeaveDays > userDets.probationStaffLeaves\n      ) {\n        setisSubmitDisabled(true);\n      } else {\n        setisSubmitDisabled(false);\n      }\n    }\n    // eslint-disable-next-line\n  }, [dateEndState, dateStartState, totalLeaveDays, leaveData.type]);\n  useEffect(() => {\n    if (!userDets) {\n      navigate(\"/login\");\n    }\n    // eslint-disable-next-line\n  }, []);\n  useEffect(() => {\n    if (userDets) getusers();\n    // eslint-disable-next-line\n  }, [userChange]);\n  const userContext = useContext(LeaveContext);\n  const { userArr, getusers, postLeaveDetails } = userContext;\n\n  const sendLeaveDetails = async (e) => {\n    e.preventDefault();\n    setFormErrors(validate(leaveData));\n    if (\n      !(\n        leaveData.subject &&\n        leaveData.body &&\n        leaveData.type &&\n        leaveData.dateStart &&\n        leaveData.dateEnd\n      )\n    )\n      return;\n    const res = await postLeaveDetails(leaveData);\n    if (res) {\n      toast.success(res.msg);\n    } else {\n      toast.error(\"Internal server error\");\n    }\n    setuserChange(!userChange);\n    clearFields(e);\n  };\n  const validate = (values) => {\n    const errors = {};\n    if (!values.subject) {\n      errors.subject = \"Subject is required\";\n    }\n    if (!values.type) {\n      errors.type = \"Type is required\";\n    }\n    if (!values.body) {\n      errors.body = \"Description is required\";\n    }\n    if (!values.dateStart) {\n      errors.dateStart = \"Start date is required\";\n    }\n    if (!values.subStaff) {\n      errors.subStaff = \"Substitue staff is required\";\n    }\n    if (!values.dateEnd) {\n      errors.dateEnd = \"End date is required\";\n    }\n    return errors;\n  };\n\n  const changeInputHandler = (e) => {\n    setLeaveData({ ...leaveData, [e.target.name]: e.target.value });\n\n    if (e.target.name === \"dateEnd\") {\n      setDateEndState(e.target.value);\n    }\n    if (e.target.name === \"dateStart\") {\n      setDateStartState(e.target.value);\n    }\n  };\n\n  const filteredArr = userArr.filter(\n    (user) => user?.role === \"Staff\" && user?.staffName !== userDets?.staffName\n  );\n  const clearFields = (e) => {\n    Array.from(e.target).forEach((e) => (e.value = \"\"));\n    setLeaveData({\n      userId: userDets?._id,\n      department: userDets?.department,\n      name: userDets?.staffName,\n    });\n    setSelected([]);\n    setTotalLeaveDays(0);\n  };\n  //multiple select code:\n\n  const options = [];\n  filteredArr.map((user) => {\n    return options.push({\n      value: user.staffName,\n      label: user.staffName,\n    });\n  });\n\n  useEffect(() => {\n    selected.map((user) => {\n      return multipleSubStaff.push({ name: user.value, status: 0 });\n    });\n    setLeaveData({ ...leaveData, subStaffArr: multipleSubStaff });\n    // eslint-disable-next-line\n  }, [selected]);\n\n  return (\n    <>\n      <div className=\"container leaveForm\">\n        {/* multiple select related code:  */}\n\n        <h1>Apply for a new leave</h1>\n        <hr />\n        <Form onSubmit={sendLeaveDetails}>\n          <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\n            <Form.Label className=\"fs-3\">Subject</Form.Label>\n            <Form.Control\n              name=\"subject\"\n              onChange={changeInputHandler}\n              type=\"text\"\n            />\n            <p className=\"text-danger\">{formErrors.subject}</p>\n          </Form.Group>\n          <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea1\">\n            <Form.Label className=\"fs-3\">\n              Description{\" \"}\n              <span className=\"fs-6\">\n                (Enter all the details of the leave including the reason and\n                timings for substitute teachers)\n              </span>\n            </Form.Label>\n            <Form.Control\n              onChange={changeInputHandler}\n              as=\"textarea\"\n              rows={3}\n              name=\"body\"\n            />\n            <p className=\"text-danger\">{formErrors.body}</p>\n          </Form.Group>\n          <Form.Label className=\"fs-3\">Type of leave</Form.Label>\n          <FloatingLabel\n            controlId=\"floatingSelect\"\n            label=\"Select type of leave\"\n          >\n            <Form.Select\n              aria-label=\"Floating label select example\"\n              onChange={changeInputHandler}\n              name=\"type\"\n            >\n              <option></option>\n              required\n              <option value={\"Duty\"}>Duty</option>\n              <option value={\"Casual\"}>Casual</option>\n              {userDets.type === \"Regular\" ? (\n                <option value={\"Earned\"}>Earned</option>\n              ) : (\n                \"\"\n              )}\n            </Form.Select>\n            <p className=\"text-danger\">{formErrors.type}</p>\n          </FloatingLabel>\n          <div>\n            <label className=\"me-2 fs-4\">Start date:</label>\n            <input\n              name=\"dateStart\"\n              onChange={changeInputHandler}\n              className=\"mb-1\"\n              type=\"date\"\n            />\n            <span className=\"text-danger\">{formErrors.dateStart}</span>\n\n            <label className=\" ms-2 fs-4\">End date:</label>\n            <input\n              name=\"dateEnd\"\n              onChange={changeInputHandler}\n              className=\"mb-1\"\n              type=\"date\"\n              min={leaveData.dateStart}\n              disabled={isEndDateDisabled}\n            />\n            <span className=\"text-danger\">{formErrors.dateEnd}</span>\n\n            <label className=\" ms-2 fs-4\">\n              Number of days: {totalLeaveDays}\n            </label>\n            <span className=\"ms-2 fs-5\" id=\"noOfDays\" name=\"noOfDays\"></span>\n          </div>\n          <label className=\" my-2 fs-4\">Select substitute staff: </label>\n          <MultiSelect\n            options={options}\n            value={selected}\n            hasSelectAll={false}\n            onChange={setSelected}\n          />\n          <Button\n            variant=\"primary\"\n            disabled={isSubmitDisabled}\n            className=\"mt-4\"\n            type=\"submit\"\n          >\n            Submit\n          </Button>\n        </Form>\n      </div>\n    </>\n  );\n}\n\nexport default CreateLeave;\n","export default __webpack_public_path__ + \"static/media/user.0d14c699.png\";","import { useEffect } from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport logo from \"./user.png\";\n\nimport { useNavigate } from \"react-router-dom\";\nfunction UserProfile() {\n  const localUserDetails = JSON.parse(localStorage.getItem(\"storedUser\"));\n  const userDets = localUserDetails?.user;\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (!userDets) {\n      navigate(\"/login\");\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <>\n      <div\n        style={{ display: \"flex\", justifyContent: \"center\", marginTop: \"5rem\" }}\n      >\n        <Card style={{ width: \"25rem\" }}>\n          <Card.Img\n            variant=\"top\"\n            src={logo}\n            style={{\n              width: \"25rem\",\n              height: \"25rem\",\n              padding: \"0.6rem\",\n            }}\n          />\n          <Card.Body>\n            <Card.Title>Staff ID: {userDets?.staffId}</Card.Title>\n            <Card.Title>Designation: {userDets?.designation}</Card.Title>\n            <Card.Title>Name: {userDets?.staffName}</Card.Title>\n            <Card.Title>Phone Number: {userDets?.phnumber}</Card.Title>\n            <Card.Title>Email: {userDets?.email}</Card.Title>\n            <Card.Title>Role: {userDets?.role}</Card.Title>\n            <Card.Title>\n              Joining date: {new Date(userDets?.joiningDate).toDateString()}\n            </Card.Title>\n            {userDets?.type !== \"Regular\" ? (\n              <Card.Title>\n                Probation leaves remaining: {userDets?.probationStaffLeaves}\n              </Card.Title>\n            ) : (\n              <>\n                <Card.Title>\n                  Regular leaves remaining: {userDets?.regularStaffLeaves}\n                </Card.Title>\n                <Card.Title>\n                  Earned leaves remaining: {userDets?.earnedLeaves}\n                </Card.Title>\n              </>\n            )}\n          </Card.Body>\n        </Card>\n      </div>\n    </>\n  );\n}\n\nexport default UserProfile;\n","import { useState, useEffect } from \"react\";\nimport { Navbar, Nav, Button } from \"react-bootstrap\";\nimport \"../index.css\";\nimport { useRef } from \"react\";\nimport axios from \"axios\";\nimport { NavLink } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nfunction NavBar() {\n  const navigate = useNavigate();\n  const localUserDetails = JSON.parse(localStorage.getItem(\"storedUser\"));\n  useEffect(() => {\n    if (!localUserDetails) {\n      navigate(\"/login\");\n    }\n    // eslint-disable-next-line\n  }, []);\n  const userDets = localUserDetails?.user;\n\n  const [passwordDetails, setPasswordDetails] = useState({});\n\n  const password = useRef();\n  const passwordAgain = useRef();\n  const [formErrors, setFormErrors] = useState({});\n  const validate = (values) => {\n    const errors = {};\n    if (!values.oldPassword) {\n      errors.oldPassword = \"Old password is required\";\n    }\n    if (!values.password) {\n      errors.password = \"Password is required\";\n    }\n    return errors;\n  };\n\n  const changeHandler = (e) => {\n    setPasswordDetails({ ...passwordDetails, [e.target.name]: e.target.value });\n  };\n  const changePasswordSubmit = async (e) => {\n    setFormErrors(validate(passwordDetails));\n    if (passwordAgain.current.value !== password.current.value) {\n      toast.warning(\"New passwords do not match\");\n    } else {\n      try {\n        const json = await axios.put(\n          `http://localhost:4000/api/staff/${userDets._id}`,\n          passwordDetails,\n          {\n            headers: {\n              \"content-Type\": \"application/json\",\n            },\n          }\n        );\n\n        if (json.data.success) {\n          toast.success(\"Password updated\");\n        } else if (passwordDetails.oldPassword && passwordDetails.password) {\n          toast.error(\"Incorrect old password\");\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n  return (\n    <>\n      {userDets ? (\n        <Navbar bg=\"light\" expand=\"lg\" style={{ paddingRight: \"1rem\" }}>\n          <Navbar.Brand\n            className=\"mx-4\"\n            as={NavLink}\n            to={userDets?.role === \"Admin\" ? \"/admin\" : \"/\"}\n          >\n            Leave management\n          </Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n          <Navbar.Collapse id=\"basic-navbar-nav\">\n            <Nav className=\"me-auto\">\n              {/* <Nav.Link\n                as={NavLink}\n                to={userDets?.role === \"Admin\" ? \"/admin\" : \"/\"}\n              >\n                Home\n              </Nav.Link> */}\n              {userDets.role !== \"Admin\" && (\n                <Nav.Link as={NavLink} to=\"/profile\">\n                  My profile\n                </Nav.Link>\n              )}\n              {userDets?.role === \"Principal\" && (\n                <Nav.Link as={NavLink} to=\"/principal\">\n                  View Staff\n                </Nav.Link>\n              )}\n\n              <Nav.Link\n                as={NavLink}\n                to={\n                  userDets?.role === \"Admin\" ? \"/leaveRequests\" : \"/createLeave\"\n                }\n              >\n                {userDets?.role === \"Admin\"\n                  ? \"Incoming Leave Requests\"\n                  : \"Create a new leave\"}\n              </Nav.Link>\n\n              {userDets?.role === \"Hod\" && (\n                <Nav.Link as={NavLink} to={\"/viewStaff\"}>\n                  View Staff\n                </Nav.Link>\n              )}\n            </Nav>\n          </Navbar.Collapse>\n          <strong className=\"navbar-text\">\n            Hello, {userDets?.designation}. {userDets.staffName}\n          </strong>\n          <Button\n            className=\"d-flex mx-4\"\n            variant=\"primary\"\n            onClick={() => {\n              localStorage.clear();\n              navigate(\"/login\");\n            }}\n          >\n            Logout\n          </Button>\n\n          <button\n            type=\"button\"\n            className=\"btn btn-primary\"\n            data-bs-toggle=\"modal\"\n            data-bs-target=\"#exampleModal\"\n          >\n            Change Password\n          </button>\n\n          <div\n            className=\"modal fade\"\n            id=\"exampleModal\"\n            tabIndex=\"-1\"\n            aria-labelledby=\"exampleModalLabel\"\n            aria-hidden=\"true\"\n          >\n            <div className=\"modal-dialog\">\n              <div className=\"modal-content\">\n                <div className=\"modal-header\">\n                  <h5 className=\"modal-title\" id=\"exampleModalLabel\">\n                    Change Password\n                  </h5>\n                  <button\n                    type=\"button\"\n                    className=\"btn-close\"\n                    data-bs-dismiss=\"modal\"\n                    aria-label=\"Close\"\n                  ></button>\n                </div>\n                <div className=\"modal-body\">\n                  <label>Old Password:</label>\n                  <input\n                    name=\"oldPassword\"\n                    className=\"pwdBox\"\n                    onChange={changeHandler}\n                    type=\"text\"\n                  />\n                  <p className=\"text-danger\">{formErrors.oldPassword}</p>\n                  <label>New Password:</label>\n                  <input\n                    name=\"password\"\n                    onChange={changeHandler}\n                    type=\"password\"\n                    className=\"pwdBox\"\n                    ref={password}\n                  />\n                  <p className=\"text-danger\">{formErrors.password}</p>\n                  <label>New Password again:</label>\n                  <input\n                    ref={passwordAgain}\n                    type=\"password\"\n                    className=\"pwdBox\"\n                  />\n                </div>\n                <div className=\"modal-footer\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-secondary\"\n                    data-bs-dismiss=\"modal\"\n                  >\n                    Close\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-primary\"\n                    onClick={changePasswordSubmit}\n                  >\n                    Save changes\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </Navbar>\n      ) : (\n        <Navbar bg=\"light\" expand=\"lg\">\n          <Navbar.Brand className=\"mx-4\" to=\"#home\">\n            Leave management\n          </Navbar.Brand>\n        </Navbar>\n      )}\n    </>\n  );\n}\n\nexport default NavBar;\n","import React from \"react\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { Table } from \"react-bootstrap\";\nimport LeaveContext from \"../../context/LeaveContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\nfunction ViewStaff() {\n  const navigate = useNavigate();\n  const userContext = useContext(LeaveContext);\n  const [filteredArr, setFilteredArr] = useState([]);\n  const { getusers } = userContext;\n  const localUserDetails = JSON.parse(localStorage.getItem(\"storedUser\"));\n  const userDets = localUserDetails?.user;\n  useEffect(() => {\n    if (userDets?.role !== \"Hod\") {\n      navigate(\"/login\");\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    async function callUserApi() {\n      if (userDets?.role === \"Hod\") {\n        const response = await getusers();\n        if (response) {\n          let newArr = response?.filter(\n            (user) => user.department === userDets.department\n          );\n          setFilteredArr(newArr);\n        } else {\n          toast.error(\"Internal Server Error\");\n        }\n      }\n    }\n    callUserApi();\n\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <>\n      <div className=\"container center\">\n        <h1 className=\"my-4 text-center\">{userDets.department} Staff</h1>\n\n        <Table striped bordered hover>\n          <thead>\n            <tr>\n              <th>Staff ID</th>\n              <th>Designation</th>\n              <th>Full Name</th>\n              <th>Email </th>\n              <th>Phone Number</th>\n              <th>Role</th>\n              <th>Type</th>\n              <th>Leaves remaining</th>\n              <th>Department</th>\n            </tr>\n          </thead>\n          <tbody>\n            {filteredArr.map((user) => {\n              return (\n                <tr key={user.staffId}>\n                  {user.role !== \"Principal\" && user.role !== \"Admin\" && (\n                    <>\n                      <td>{user.staffId}</td>\n                      <td>{user.designation}</td>\n                      <td>{user.staffName}</td>\n                      <td>{user.email}</td>\n                      <td>{user.phnumber}</td>\n                      <td>{user.role}</td>\n                      <td>{user.type}</td>\n                      <td>\n                        {user.type === \"Regular\" ? (\n                          <span>\n                            {user.earnedLeaves + user.regularStaffLeaves}\n                          </span>\n                        ) : (\n                          <span>{user.probationStaffLeaves}</span>\n                        )}\n                      </td>\n                      <td>\n                        <span>{user.department}</span>\n                      </td>\n                    </>\n                  )}\n                </tr>\n              );\n            })}\n          </tbody>\n        </Table>\n      </div>\n    </>\n  );\n}\n\nexport default ViewStaff;\n","import Create from \"./pages/admin/Create\";\nimport Login from \"./pages/login/Login\";\nimport Principal from \"./pages/principal/Principal\";\nimport Staff from \"./pages/staff/Staff\";\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\nimport Hodrequests from \"./pages/admin/Hodrequests\";\nimport CreateLeave from \"./pages/staff/CreateLeave\";\nimport UserProfile from \"./pages/profile/UserProfile\";\nimport NavBar from \"./components/NavBar\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport ViewStaff from \"./pages/View Staff/ViewStaff\";\nimport { Slide } from \"react-toastify\";\n\nfunction App() {\n  // hello\n  return (\n    <>\n      <ToastContainer\n        position=\"bottom-right\"\n        pauseOnHover={false}\n        autoClose={1900}\n        hideProgressBar={false}\n        newestOnTop={false}\n        transition={Slide}\n        closeOnClick\n      />\n      <Router>\n        <NavBar />\n        <Routes>\n          <Route path=\"/login\" element={<Login />} />\n          <Route path=\"/\" element={<Staff />} />\n          <Route path=\"/admin\" element={<Create />} />\n          <Route path=\"/principal\" element={<Principal />} />\n          <Route path=\"/leaveRequests\" element={<Hodrequests />} />\n          <Route path=\"/createLeave\" element={<CreateLeave />} />\n          <Route path=\"/profile\" element={<UserProfile />} />\n          <Route path=\"/viewStaff\" element={<ViewStaff />} />\n        </Routes>\n      </Router>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport LeaveState from \"./context/LeaveState\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <LeaveState>\n      <App />\n    </LeaveState>\n  </React.StrictMode>,\n\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}